<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    img {
        width: 600px;
        height: 100px;
    }
</style>
<body onload="init()">
<table id="table">
    <tr>
        <td><img id="img1" src=""></td>
    </tr>
    <tr>
        <td><img id="img2" src=""></td>
    </tr>
    <tr>
        <td><img id="img3" src=""></td>
    </tr>
    <tr>
        <td><img id="img4" src=""></td>
    </tr>
</table>

<script>
    const xMax = 3;
    const xMin = 1;
    const yMin = 1;
    const yMax = 4;
    let x1, y1, x2, y2, x3, y3, x4, y4;

    let img1 = document.getElementById("img1")
    let img2 = document.getElementById("img2")
    let img3 = document.getElementById("img3")
    let img4 = document.getElementById("img4")
    let table = document.getElementById("table")

    img1.addEventListener("click", function () {
        setImage(x1,y1,img1)
    })
    img2.addEventListener("click", function () {
        setImage(x2,y2,img2)
    })
    img3.addEventListener("click", function () {
        setImage(x3,y3,img3)
    })
    img4.addEventListener("click", function () {
        setImage(x4,y4,img4)
    })

    function randomXY(img, x, y) {
        x = Math.floor(Math.random() * (xMax - xMin + 1)) + xMin;
        y = Math.floor(Math.random() * (yMax - yMin + 1)) + yMin;
        if (img === img1) {
            x1 = x; y1 = y;
        } else if (img === img2) {
            x2 = x; y2 = y;
        } else if (img === img3) {
            x3 = x; y3 = y;
        } else {
            x4 = x; y4 = y;
        }
        return x + "_" + y
    }

    function check() {
        if (x1 === x2 && x2 === x3 && x3 === x4
        && y1 < y2 && y2 < y3 && y3 < y4) {
            table.style.backgroundColor = "#00ff00"
            console.log("matched")
        } else {
            table.style.backgroundColor = "#ffffff"
            console.log("not matche")
        }
    }

    function setImage(x,y,img) {
        let index = randomXY(img, x, y)
        img.setAttribute("src", `assets/image/image_${index}.jpg`);
        check()
    }

    function init() {
        setImage(x1,y1,img1)
        setImage(x2,y2,img2)
        setImage(x3,y3,img3)
        setImage(x3,y3,img4)
    }
</script>
</body>
</html>