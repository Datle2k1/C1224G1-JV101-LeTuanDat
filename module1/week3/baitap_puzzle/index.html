<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    img {
        width: 600px;
        height: 100px;
    }
</style>
<body onload="init()">
<table id="table">
    <tr>
        <td><img id="img1" src=""></td>
    </tr>
    <tr>
        <td><img id="img2" src=""></td>
    </tr>
    <tr>
        <td><img id="img3" src=""></td>
    </tr>
    <tr>
        <td><img id="img4" src=""></td>
    </tr>
</table>

<script>
    const xMax = 3;
    const xMin = 1;
    const yMin = 1;
    const yMax = 4;
    var x1, y1, x2, y2, x3, y3, x4, y4;

    let img1 = document.getElementById("img1")
    let img2 = document.getElementById("img2")
    let img3 = document.getElementById("img3")
    let img4 = document.getElementById("img4")

    img1.addEventListener("click", function () {
        setImage(x1,y1,img1)
    })
    img2.addEventListener("click", function () {
        setImage(x2,y2,img2)
    })
    img3.addEventListener("click", function () {
        setImage(x3,y3,img3)
    })
    img4.addEventListener("click", function () {
        setImage(x4,y4,img4)
    })

    let table = document.getElementById("table")

    function randomXY(x, y) {
        x = Math.floor(Math.random() * (xMax - xMin + 1)) + xMin;
        y = Math.floor(Math.random() * (yMax - yMin + 1)) + yMin;
        check()
        return x + "_" + y
    }

    function check() {
        let bgColor = "#ffffff"
        if (x1 === x2 === x3 === x4 === 1
            && y1 === 1 && y2 === 2 && y3 === 3 && y4 === 4) {
            bgColor = "#02ff00"
        }
        if (x1 === x2 === x3 === x4 === 2
            && y1 === 1 && y2 === 2 && y3 === 3 && y4 === 4) {
            bgColor = "#02ff00"
        }
        if (x1 === x2 === x3 === x4 === 3
            && y1 === 1 && y2 === 2 && y3 === 3 && y4 === 4) {
            bgColor = "#02ff00"
        }
        table.style.backgroundColor = bgColor
    }

    function setImage(x,y,img) {
        let index = randomXY(x, y)
        img.setAttribute("src", `image/image_${index}.jpg`);
    }

    function init() {
        setImage(x1,y1,img1)
        setImage(x2,y2,img2)
        setImage(x3,y3,img3)
        setImage(x3,y3,img4)
    }
</script>
</body>
</html>